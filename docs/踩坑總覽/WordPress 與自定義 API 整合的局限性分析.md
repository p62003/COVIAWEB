# WordPress 與自定義 API 整合的局限性分析

## 關於 WordPress 和動態功能

WordPress 作為全球最流行的內容管理系統 (CMS)，提供了便捷的內容發布和基本網站建設功能。然而，當需要與自定義 API 進行深度整合，實現真正的動態應用功能時，開發者會面臨一系列挑戰。

## 主要知識點

### 1. 區塊代碼鎖定問題

大多數商業 WordPress 主題和頁面構建器（如 Elementor、Divi 等）為了保持穩定性和安全性，往往會鎖定區塊代碼：

- 限制直接插入自定義代碼或變數錨點
- 阻止與外部 API 的無縫交互
- 減少動態數據注入的可能性

### 2. 設計與功能的權衡

在 WordPress 生態系統中存在一個明顯的權衡：

| WordPress 主題優勢 | 自定義 API 集成需求 |
|-------------------|-------------------|
| 現成精美設計模板   | 動態數據交互        |
| 響應式佈局自動適配 | 用戶特定內容顯示     |
| 零代碼快速部署     | 外部系統數據整合     |

選擇使用自定義解決方案通常意味著需要額外投入：
- 自行處理 CSS 樣式和設計一致性
- 解決響應式設計問題
- 建立與主題風格統一的用戶界面

### 3. WordPress 的實用範圍

在沒有額外資源投入的情況下，WordPress 主要適合：
- 內容展示為主的靜態網站
- 博客和新聞網站
- 基本企業宣傳頁面
- 簡單的作品集網站

不太適合：
- 需要複雜數據處理的應用
- 高度自定義的用戶交互體驗
- 與多個外部 API 深度整合的系統
- 實時數據處理和動態內容生成

### 4. 可能的解決方法與限制

常見解決方案包括：

1. **使用短代碼** - 雖然可以插入功能，但通常需要自行設計樣式
2. **自定義小工具** - 可在小工具區域顯示動態內容，但位置受限
3. **自定義區塊** - 提供更多靈活性，但需要 JavaScript 開發知識
4. **頁面模板覆蓋** - 完全控制頁面，但失去主題大部分設計優勢

### 5. 成本與投資考量

要在 WordPress 實現真正的動態功能，通常需要：
- 付費專業插件（如高級表單、會員系統或電商功能）
- 自定義開發費用（前端和後端整合）
- 更高的維護和更新成本
- 技術債務管理（插件衝突、安全性和性能問題）

## WordPress 與自定義 API 整合的局限性補充

### 1. 背景說明

本文件針對使用 WordPress（特別是 Gutenberg 編輯器與 Kadence Blocks 等可視化構建器）進行網站開發時，遇到的後端 API 整合限制，進行實際測試與真實紀錄，目的是協助開發者避免錯誤期待與設計失誤。

### 2. 核心限制點整理

#### 2.1 區塊樣式與資料層脫鉤

- Kadence Blocks 的附加 CSS 類別設定，主要用於前端樣式渲染，不保證這些類別會寫入 HTML DOM 結構。
- 實測證明，Row Layout 等區塊即使設定附加 class（如 `scroll-fade`），前端渲染的 HTML 中亦不會出現該 class，導致無法透過 JavaScript 或 API 正常互動。
- Gutenberg 的自訂 CSS（例如 selector{}）只作用於樣式層，無法影響元素本身的屬性或結構。

#### 2.2 REST API 資料回傳範圍限制

- WordPress REST API 僅回傳儲存在區塊 attributes 中的資料（例如原生的 className、id）。
- 透過 Kadence Blocks 自訂的 CSS 設定（如 selector{} 或附加樣式），因不屬於資料層屬性，因此 API 無法讀取或擷取這類資訊。
- 前端動態加上的 class（例如 JavaScript 觸發的 .visible）同樣不會出現在 API 回傳資料中。

#### 2.3 功能性需求無法用純視覺化工具實現

- 若需求包含用戶註冊、登入、資料查詢、消費紀錄展示、代丟提醒設定等，這些屬於「資料互動層」的功能，Kadence Blocks 及一般 Gutenberg 可視化系統無法直接支援。
- WPCode 等外掛雖可插入自訂 JS，但受限於區塊封裝結構，實際上僅能操作 WordPress 原生 HTML 區塊（如 Custom HTML），無法有效控制可視化建構的高階區塊。
- 真正的資料互動需要依賴：
  - 標準化 REST API
  - 自訂 shortcode
  - 自建前端表單邏輯或使用專業表單外掛（如 Fluent Forms）

### 3. 開發建議

- **視覺展示層**：使用 Kadence Blocks 等可視化工具製作靜態頁面與品牌形象。
- **功能互動層**：獨立開發資料互動模組（例如表單提交、會員中心）並以 shortcode 或 iframe 嵌入。
- **後端資料層**：採用 WordPress REST API 或自建 API Endpoint，確保資料正規存取與雙向互動。
- **流程範例**：
  - 用戶註冊 → 表單外掛 → Webhook → N8N處理 → 建立 WordPress 使用者
  - 消費紀錄查詢 → 前端 AJAX → 呼叫自訂 API → 顯示資料表格
  - 提醒設定 → 表單提交 → 資料庫儲存 → N8N 定時拉取提醒

### 4. 結語

本文件基於 2025年4月 WordPress 6.x + Kadence Blocks 免費版環境，經由完整實測得出，無補全與假設推論。  
後續若 Kadence Blocks 更新行為，可能導致部分結論失效，建議開發時持續以實際測試為主，避免誤信官方行銷宣傳而誤判技術可行性。


## 結論

WordPress 確實是一個強大的內容管理系統，但在不額外投入資源的情況下，主要適合用於製作靜態或半動態的網站。當網站需求朝著更複雜的交互和數據處理方向發展時，開發者需要權衡使用 WordPress 的便捷性與實現動態功能所需的額外投入。

在項目規劃階段，建議根據網站的核心功能需求，明確評估 WordPress 是否是最適合的技術選擇，以避免後期開發中遇到不必要的限制和挑戰。

